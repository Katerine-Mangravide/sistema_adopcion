{% extends 'base.html' %} 
{% block title %}Editar {{ mascota.nombre }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Editar Mascota: {{ mascota.nombre }}</h1>
    <p class="lead">Actualiza la información de la mascota.</p>
    <a href="{% url 'mascotas:lista_mascotas_refugio' %}" class="btn btn-secondary">← Volver a Mis Mascotas</a>
</div>

<div class="form-container form-card">
    {% if mascota.imagen %}
    <div class="current-image-preview">
        <img src="{{ mascota.imagen.url }}" alt="Imagen actual de {{ mascota.nombre }}" style="max-width: 200px; height: auto; border-radius: 8px; margin-bottom: 15px;">
        <p>Imagen actual</p>
    </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        {% if form.errors %}
            <div class="alert alert-danger">
                Por favor, corrige los siguientes errores:
                {{ form.errors }}
            </div>
        {% endif %}

        {{ form.as_p }}
        
        <button type="submit" class="btn-primary">Guardar Cambios</button>
        <a href="{% url 'mascotas:eliminar_mascota_refugio' mascota.id %}" class="btn-danger float-right">Eliminar Mascota</a>
    </form>
</div>
{% endblock %}